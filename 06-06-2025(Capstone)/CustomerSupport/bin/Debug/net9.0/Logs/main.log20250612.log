2025-06-12 15:51:32,604 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5124
2025-06-12 15:51:32,616 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-12 15:51:32,616 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-12 15:51:32,616 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/sai/Training/06-06-2025(Capstone)/CustomerSupport
2025-06-12 15:52:13,604 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-12 15:52:22,221 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5124
2025-06-12 15:52:22,235 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-12 15:52:22,235 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-12 15:52:22,235 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/sai/Training/06-06-2025(Capstone)/CustomerSupport
2025-06-12 15:52:32,758 [.NET TP Worker] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT c."Id", c."AgentId", c."CreatedOn", c."CustomerId", c."Status"
FROM "Chats" AS c
WHERE c."Id" = @__id_0
LIMIT 1
2025-06-12 15:52:32,879 [.NET TP Worker] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Username", u."Password", u."RefreshToken", u."Roles"
FROM "Users" AS u
WHERE u."Username" = @__username_0
LIMIT 1
2025-06-12 15:52:33,056 [.NET TP Worker] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__chatId_0='?' (DbType = Int32), @__email_1='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Chats" AS c
    INNER JOIN "Agents" AS a ON c."AgentId" = a."Id"
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__chatId_0 AND (a."Email" = @__email_1 OR c0."Email" = @__email_1))
2025-06-12 15:52:33,299 [.NET TP Worker] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "ChatMessages" ("ChatId", "CreatedAt", "ImageName", "Message", "MessageType", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-06-12 15:53:08,972 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
